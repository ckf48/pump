(function(){"use strict";var t={4296:function(t,e,a){var n=a(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],r={name:"App",methods:{}},l=r,s=a(1001),d=(0,s.Z)(l,i,o,!1,null,null,null),p=d.exports,c=a(8499),m=a.n(c),u=a(2631),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"center"},[t._m(0),e("div",{staticStyle:{margin:"50px"}},[e("el-form",{ref:"form",staticClass:"loginform",attrs:{"label-width":"80px","label-position":"left"}},[e("el-form-item",{attrs:{label:"用户名："}},[e("el-input")],1),e("el-form-item",{attrs:{label:"密码："}},[e("el-input")],1)],1),e("el-button",{staticClass:"loginbutton",attrs:{type:"primary"},on:{click:t.toOverview}},[t._v("登录")])],1)])])},g=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("span",{staticClass:"titletext"},[t._v("水泵信息监测系统")]),e("p",[t._v("Water Pump Performance Monitoring System")])])}],f={name:"LoginView",props:{msg:String}},y=f,w=(0,s.Z)(y,h,g,!1,null,"5b14a3e4",null),x=w.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"header"},[e("span",[t._v("泵组：")]),e("el-select",{attrs:{placeholder:"请选择"},on:{change:t.selectionChange},model:{value:t.pumpNo,callback:function(e){t.pumpNo=e},expression:"pumpNo"}},t._l(6,(function(t){return e("el-option",{key:t,attrs:{label:t+"号",value:t}})})),1),e("span",{staticStyle:{"margin-left":"50px"}},[t._v("历史记录：")]),e("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},on:{change:t.selectionChange},model:{value:t.timeRange,callback:function(e){t.timeRange=e},expression:"timeRange"}}),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.selectionChange}},[t._v("查 询")])],1),e("el-tabs",{staticStyle:{height:"600px"},attrs:{type:"border-card","tab-position":"left"}},[e("el-tab-pane",{attrs:{label:"状态"}},[e("div",{staticStyle:{width:"100%",display:"flex","flex-wrap":"wrap"}},[e("div",{staticStyle:{width:"calc(50% - 40px)",height:"250px",margin:"20px"},attrs:{id:"head_flow"}}),e("div",{staticStyle:{width:"calc(50% - 40px)",height:"250px",margin:"20px"},attrs:{id:"work_flow"}}),e("div",{staticStyle:{width:"calc(50% - 40px)",height:"250px",margin:"20px"},attrs:{id:"efficiency_flow"}}),e("div",{staticStyle:{width:"calc(50% - 40px)",height:"250px",margin:"20px"},attrs:{id:"predict_flow"}})])]),e("el-tab-pane",{attrs:{label:"优化"}},[e("div",{staticStyle:{width:"100%",display:"flex","flex-wrap":"wrap"}})])],1)],1)},M=[],b=(a(7658),a(70));const _="http://localhost:8848",F=6e4,S=b.ZP.create({baseURL:_,timeout:F});var R=S;function k(t){return R({url:"api/v5/enterprises/crrc-academy/issues",method:"get",params:t})}function N(t){return R({url:"oauth/token",method:"post",data:t})}function D(t){return R({url:"service/head_flow",method:"post",params:t})}function O(t){return R({url:"service/work_flow",method:"post",params:t})}function C(t){return R({url:"service/efficiency_flow",method:"post",params:t})}function A(t){return R({url:"service/predict_flow",method:"post",params:t})}var E={get:k,userAuth:N,getHeadFlow:D,getWorkFlow:O,getEfficiencyFlow:C,getPredictFlow:A},P=a(8194);Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t};const I=t=>"head"===t?"扬程":"flow"===t?"流量":"work"===t?"功率":"efficiency"===t?"效率":"predict"===t?"预警":void 0;var T={name:"LoginView",props:{msg:String},data(){return{pumpNo:1,timeRange:[]}},mounted(){this.selectionChange(),setInterval(this.selectionChange,6e4)},methods:{selectionChange(){console.log(this.pumpNo),console.log(this.timeRange),this.getWorkFlow(),this.getHeadFlow(),this.getEfficiencyFlow(),this.getPredictFlow()},getHeadFlow(){let t={};t.pumpNo=this.pumpNo,0!=this.timeRange.length?(t.start=this.timeRange[0],t.end=this.timeRange[1]):(t.start=new Date((new Date).getTime()-6e5),t.end=new Date),E.getHeadFlow({pumpNo:t.pumpNo,start:t.start.Format("yyyy-MM-dd hh:mm:ss"),end:t.end.Format("yyyy-MM-dd hh:mm:ss")}).then((e=>{console.log(e);let a=[];for(let t=0;t<e.data.length;t++){let n=[],i=e.data[t];for(const a in e.data[t].data)n.push([new Date(a),i.data[a]]);a.push({data:n,type:"line",yAxisIndex:t,name:i.name})}let n={tooltip:{trigger:"axis"},legend:{data:["head","flow"]}};n.legend.formatter=I,n.title={text:"扬程-流量"},n.xAxis={type:"time",min:t.start,max:t.end},n.yAxis=[{type:"value",min:"dataMin",max:"dataMax"},{type:"value",min:"dataMin",max:"dataMax"}],n.series=a,console.log(n);var i=P.S1(document.getElementById("head_flow"));i.setOption(n)}))},getWorkFlow(){let t={};t.pumpNo=this.pumpNo,0!=this.timeRange.length?(t.start=this.timeRange[0],t.end=this.timeRange[1]):(t.start=new Date((new Date).getTime()-6e5),t.end=new Date),E.getWorkFlow({pumpNo:t.pumpNo,start:t.start.Format("yyyy-MM-dd hh:mm:ss"),end:t.end.Format("yyyy-MM-dd hh:mm:ss")}).then((e=>{console.log(e);let a=[];for(let t=0;t<e.data.length;t++){let n=[],i=e.data[t];for(const a in e.data[t].data)n.push([new Date(a),i.data[a]]);a.push({data:n,type:"line",yAxisIndex:t,name:i.name})}let n={tooltip:{trigger:"axis"},legend:{data:["work","flow"]}};n.legend.formatter=I,n.title={text:"功率-流量"},n.xAxis={type:"time",min:t.start,max:t.end},n.yAxis=[{type:"value",min:"dataMin",max:"dataMax"},{type:"value",min:"dataMin",max:"dataMax"}],n.series=a,console.log(n);var i=P.S1(document.getElementById("work_flow"));i.setOption(n)}))},getEfficiencyFlow(){let t={};t.pumpNo=this.pumpNo,0!=this.timeRange.length?(t.start=this.timeRange[0],t.end=this.timeRange[1]):(t.start=new Date((new Date).getTime()-6e5),t.end=new Date),E.getEfficiencyFlow({pumpNo:t.pumpNo,start:t.start.Format("yyyy-MM-dd hh:mm:ss"),end:t.end.Format("yyyy-MM-dd hh:mm:ss")}).then((e=>{console.log(e);let a=[];for(let t=0;t<e.data.length;t++){let n=[],i=e.data[t];for(const a in e.data[t].data)n.push([new Date(a),i.data[a]]);a.push({data:n,type:"line",yAxisIndex:t,name:i.name})}let n={tooltip:{trigger:"axis"},legend:{data:["efficiency","flow"]}};n.legend.formatter=I,n.title={text:"效率-流量"},n.xAxis={type:"time",min:t.start,max:t.end},n.yAxis=[{type:"value",min:"dataMin",max:"dataMax"},{type:"value",min:"dataMin",max:"dataMax"}],n.series=a,console.log(n);var i=P.S1(document.getElementById("efficiency_flow"));i.setOption(n)}))},getPredictFlow(){let t={};t.pumpNo=this.pumpNo,0!=this.timeRange.length?(t.start=this.timeRange[0],t.end=this.timeRange[1]):(t.start=new Date((new Date).getTime()-6e5),t.end=new Date),E.getPredictFlow({pumpNo:t.pumpNo,start:t.start.Format("yyyy-MM-dd hh:mm:ss"),end:t.end.Format("yyyy-MM-dd hh:mm:ss")}).then((e=>{console.log(e);let a=[];for(let t=0;t<e.data.length;t++){let n=[],i=e.data[t];for(const a in e.data[t].data)n.push([new Date(a),i.data[a]]);a.push({data:n,type:"line",yAxisIndex:t,name:i.name})}let n={tooltip:{trigger:"axis"},legend:{data:["predict","flow"]}};n.legend.formatter=I,n.title={text:"预警"},n.xAxis={type:"time",min:t.start,max:t.end},n.yAxis=[{type:"value",min:"dataMin",max:"dataMax"},{type:"value",min:"dataMin",max:"dataMax"}],n.series=a,console.log(n);var i=P.S1(document.getElementById("predict_flow"));i.setOption(n)}))}}},j=T,Z=(0,s.Z)(j,v,M,!1,null,"ee0445c4",null),H=Z.exports;n["default"].use(u.ZP);const W=[{path:"/",redirect:"/overview"},{path:"/login",component:x},{path:"/overview",component:H}],$=new u.ZP({routes:W});var B=$;n["default"].config.productionTip=!1,n["default"].use(m()),new n["default"]({render:t=>t(p),router:B}).$mount("#app")}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,i,o){if(!n){var r=1/0;for(p=0;p<t.length;p++){n=t[p][0],i=t[p][1],o=t[p][2];for(var l=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[s])}))?n.splice(s--,1):(l=!1,o<r&&(r=o));if(l){t.splice(p--,1);var d=i();void 0!==d&&(e=d)}}return e}o=o||0;for(var p=t.length;p>0&&t[p-1][2]>o;p--)t[p]=t[p-1];t[p]=[n,i,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,o,r=n[0],l=n[1],s=n[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(s)var p=s(a)}for(e&&e(n);d<r.length;d++)o=r[d],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(p)},n=self["webpackChunkwindowapp"]=self["webpackChunkwindowapp"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(4296)}));n=a.O(n)})();
//# sourceMappingURL=app.48bbe642.js.map